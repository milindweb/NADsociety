<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Transactions</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    margin:0;
    font-family:Arial, Helvetica, sans-serif;
    background:#f3f4f6;
}

.container{
    padding:10px 15px;
}

.section{
    background:#fff;
    border:1px solid #ccc;
    padding:10px;
    margin-bottom:10px;
}

.section-title{
    font-size:15px;
    font-weight:bold;
    margin-bottom:6px;
}

.form-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(180px, 1fr));
    gap:8px;
}

.form-group{
    display:flex;
    flex-direction:column;
    font-size:13px;
}

input, select{
    padding:5px;
    font-size:13px;
}

table{
    width:100%;
    border-collapse:collapse;
    font-size:13px;
}

th, td{
    border:1px solid #ccc;
    padding:5px;
    text-align:center;
}

th{
    background:#e5e7eb;
}

button{
    padding:6px 12px;
    font-size:13px;
    cursor:pointer;
}

.two-col{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:10px;
}
</style>
</head>

<body>

<!-- ================= LOGIN CHECK ================= -->
<script>
if(sessionStorage.getItem("loggedIn") !== "true"){
    window.location.href = "login.html";
}
</script>

<!-- ================= HEADER ================= -->
<div id="header"></div>

<!-- ================= PAGE CONTENT ================= -->
<div class="container">

    <!-- ================= MEMBER IDENTIFICATION ================= -->
    <div class="section">
        <div class="section-title">Member Identification</div>

        <!-- SYSTEM MEMBER ID (HIDDEN) -->
        <input type="hidden" id="member_id">

        <div class="form-grid">
            <div class="form-group">
                General No
                <input type="text" id="gen_no">
            </div>

            <div class="form-group">
                Name
                <input type="text" id="member_name" readonly>
            </div>

            <div class="form-group">
                Department
                <input type="text" id="department" readonly>
            </div>

            <div class="form-group">
                Designation
                <input type="text" id="designation" readonly>
            </div>
        </div>
    </div>

    <!-- ================= CONTRIBUTIONS ================= -->
    <div class="section">
        <div class="section-title">Monthly Contributions</div>

        <div class="form-grid">
            <div class="form-group">
                CD Amount
                <input type="number">
            </div>

            <div class="form-group">
                Share Amount
                <input type="number">
            </div>
        </div>
    </div>

    <!-- ================= LOANS SIDE BY SIDE ================= -->
    <div class="two-col">

        <!-- SHORT LOAN -->
        <div class="section">
            <div class="section-title">Short Loan</div>

            <div class="form-grid">
                <div class="form-group">
                    Loan No
                    <input type="text">
                </div>

                <div class="form-group">
                    Installment
                    <input type="number">
                </div>

                <div class="form-group">
                    Interest
                    <input type="number">
                </div>

                <div class="form-group">
                    Balance
                    <input type="number" readonly>
                </div>
            </div>
        </div>

        <!-- LONG LOAN -->
        <div class="section">
            <div class="section-title">Long Loan</div>

            <div class="form-grid">
                <div class="form-group">
                    Loan No
                    <input type="text">
                </div>

                <div class="form-group">
                    Installment
                    <input type="number">
                </div>

                <div class="form-group">
                    Interest
                    <input type="number">
                </div>

                <div class="form-group">
                    Balance
                    <input type="number" readonly>
                </div>
            </div>
        </div>

    </div>

    <!-- ================= SUMMARY ================= -->
    <div class="section">
        <div class="section-title">Transaction Summary</div>

        <table>
            <tr>
                <th>CD</th>
                <th>Share</th>
                <th>Short Loan</th>
                <th>Long Loan</th>
                <th>Total</th>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        </table>
    </div>

    <!-- ================= ACTION ================= -->
    <div class="section">
        <button>Save Transaction</button>
        <button style="margin-left:5px;">Cancel</button>
    </div>

</div>

<!-- ================= JS ================= -->
<script>
/* ---------- LOAD HEADER ---------- */
fetch("header.html")
    .then(res => res.text())
    .then(html => {
        document.getElementById("header").innerHTML = html;
    });

/*
BACKEND RESPONSIBILITY (Python):
• Search by gen_no
• Fetch member_id internally
• Populate readonly fields
• Save transaction
• Write audit trail in /logs
*/
</script>

</body>
</html>