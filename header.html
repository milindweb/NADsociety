<!-- ================= HEADER START ================= -->
<style>
/* BASIC HEADER – minimal CSS (enhance later) */
#society-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: #1e3a8a;
    color: white;
    padding: 10px 20px;
}

/* LEFT SIDE */
.header-left {
    display: flex;
    align-items: center;
    gap: 10px;
    text-decoration: none;
    color: inherit;
}

.header-left img {
    height: 40px;
}

.header-left .society-name {
    font-size: 16px;
    font-weight: bold;
}

/* RIGHT MENU */
.header-menu a {
    color: white;
    text-decoration: none;
    margin-left: 15px;
    font-size: 14px;
}

.header-menu a:hover {
    text-decoration: underline;
}
</style>

<header id="society-header">

    <!-- LEFT: LOGO + NAME (DASHBOARD LINK) -->
    <a href="index.html" class="header-left">
        <img src="logo.png" alt="Society Logo">
        <div class="society-name">
            The NAD Employees Co-operative Credit Society Ltd, Karanja
        </div>
    </a>

    <!-- RIGHT: MENU -->
    <nav class="header-menu">
        <a href="newmember.html">Add Member</a>
        <a href="transactions.html">Transaction</a>
        <a href="member.html">Members</a>
        <a href="report.html">Reports</a>
        <a href="Admin.html" id="adminLink" style="display:none;">Admin</a>
        <a href="#" id="logoutLink">Logout</a>
    </nav>

</header>

<script>
/* =====================================================
   ROLE-BASED MENU VISIBILITY
   role is set ONLY in login.html
===================================================== */
(function(){
    try{
        const role = sessionStorage.getItem("user_role");
        const adminLink = document.getElementById("adminLink");

        if(role === "admin" && adminLink){
            adminLink.style.display = "inline";
        }
    }catch(e){
        // silent fail – header must never break UI
    }
})();

/* =====================================================
   LOGOUT – STRICT, RELIABLE
===================================================== */
document.getElementById("logoutLink").addEventListener("click", function(e){
    e.preventDefault();

    // remove only known keys (safe, predictable)
    sessionStorage.removeItem("loggedIn");
    sessionStorage.removeItem("user_role");
    sessionStorage.removeItem("active_member_id");

    // hard redirect to login (no back navigation issues)
    window.location.replace("login.html");
});
</script>
<!-- ================= HEADER END ================= -->